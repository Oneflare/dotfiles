- clean: ["~"]

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [./pre-install.sh, Running pre installation script]

- link:
    ~/.shell:
      relink: true
      path: shell
      create: true
      force: true
    ~/.editorconfig:
      relink: true
      force: true
      path: dot_utils/.editorconfig
    ~/.gitignore:
      relink: true
      force: true
      path: dot_utils/.gitignore
    ~/.hushlogin:
      force: true
      path: dot_utils/.hushlogin
    ~/.shell_env:
      force: true
      path:  config/shell_env
    ~/.shell_style:
      force: true
      path: config/shell_style
    ~/.shell_post:
      force: true
      path: config/shell_post
    ~/.zshrc:
      force: true
      path: config/zshrc
    ~/.zsh_plugins.txt:
      force: true
      path: dot_utils/.zsh_plugins.txt
    ~/.shell/.work_secrets: secrets/.work_secrets
    ~/.shell/.personal_secrets: secrets/.personal_secrets

- shell:
    - [brew bundle check --file=dependencies/Brewfile || brew bundle --no-upgrade --file=dependencies/Brewfile, Installing tools and apps with Brew]

- shell:
    - [antibody bundle < ~/.zsh_plugins.txt > ~/.zsh_plugins.sh]

- shell:
    - [./macos/macos, Setting up macos defaults]
    - [./post-install.sh, Running post-install tasks]
